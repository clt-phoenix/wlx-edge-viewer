<html>
  <head>
	  <meta charset="utf-8"/>
	  <base href=http://local.example></base>
    <link rel="stylesheet" href="http://markdown.example/highlight_js/github.min.css">
    <link rel="stylesheet" href="http://markdown.example/__CSS_NAME__">
    <script src="http://markdown.example/highlight_js/highlight.min.js"></script>
    <script src="http://markdown.example/marked.min.js"></script>
    <script src="http://markdown.example/detect-charset.js"></script>
  </head>
  <body>
    <div id="content"></div>
    <script>
      const url = 'http://local.example/__MD_FILENAME__'
      fetch(url).then( r => r.arrayBuffer() ).then( t => 
        {
          const decoder = new TextDecoder(detect_charset(new Uint8Array(t)));
          document.getElementById('content').innerHTML = marked.parse(decoder.decode(t));
          hljs.highlightAll();
        });
    </script>
  </body>
</html>
